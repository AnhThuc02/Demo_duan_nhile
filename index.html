<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MXH Auto - Quản lý bài đăng tự động</title>

    <!-- Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Icons: Lucide -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="brand">
                <i data-lucide="send"></i>
                <h2>MXH Auto</h2>
            </div>

            <nav class="nav-menu">
                <ul>
                    <li class="nav-item active">
                        <a href="#" onclick="switchView('dashboard')">
                            <i data-lucide="layout-dashboard"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" onclick="switchView('posts')">
                            <i data-lucide="pen-square"></i>
                            <span>Quản lý bài viết</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" onclick="switchView('schedule')">
                            <i data-lucide="calendar-days"></i>
                            <span>Lịch đăng</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" onclick="switchView('settings')">
                            <i data-lucide="settings"></i>
                            <span>Cài đặt</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="user-profile">
                <div class="avatar">
                    <img src="https://ui-avatars.com/api/?name=Admin&background=6366f1&color=fff" alt="Admin">
                </div>
                <div class="user-info">
                    <h4>Admin User</h4>
                    <p>Pro Plan</p>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="topbar">
                <div class="page-title">
                    <h1>Tổng quan</h1>
                    <p>Chào mừng trở lại, quản lý các bài đăng của bạn ngay tại đây.</p>
                </div>
                <div class="actions">
                    <!-- User Profile/Settings could go here -->
                </div>
            </header>

            <!-- Google Sheet View -->
            <div id="dashboard-sheet" class="content-card dashboard-view">
                <div class="card-header">
                    <h3>Quản lý bài đăng (Google Sheet)</h3>
                    <button class="btn btn-soft" onclick="toggleSheetMode()" id="modeBtn">
                        <i data-lucide="edit-3"></i>
                        Chỉnh sửa
                    </button>
                </div>
                <div class="sheet-container">
                    <iframe
                        src="https://docs.google.com/spreadsheets/d/1G4qUBZfpczeQrl1_n66N-LLvDg1Yvo_6NBIiG233Hog/preview"></iframe>
                </div>
            </div>

            <!-- Posts List View -->
            <div id="dashboard-list" class="content-card dashboard-view" style="margin-top: 24px;">
                <div class="card-header">
                    <h3>Danh sách bài viết</h3>
                    <div style="display: flex; gap: 12px; align-items: center;">
                        <button class="btn btn-primary btn-sm" onclick="autoPostAll()" id="autoPostBtn">
                            <i data-lucide="play"></i>
                            Chạy tất cả
                        </button>
                        <div class="search-bar">
                            <i data-lucide="search"></i>
                            <input type="text" placeholder="Tìm kiếm bài viết...">
                        </div>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Nội dung</th>
                                <th>Nền tảng</th>
                                <th>Thời gian</th>
                                <th>Trạng thái</th>
                                <th>Hành động</th>
                            </tr>
                        </thead>
                        <tbody id="posts-table-body">
                            <tr>
                                <td colspan="5" style="text-align: center; padding: 48px; color: #64748b;">
                                    <div style="display: flex; flex-direction: column; align-items: center; gap: 12px;">
                                        <i data-lucide="loader-2" class="spinning"
                                            style="width: 32px; height: 32px; color: #6366f1;"></i>
                                        <p>Đang đồng bộ dữ liệu...</p>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- Schedule View -->
            <div id="schedule-view" class="content-card" style="display: none;">
                <div class="card-header">
                    <h3>Lịch đăng bài</h3>
                </div>
                <div class="card-body" style="padding: 24px;">
                    <div id="schedule-list">
                        <!-- Scheduled posts will be rendered here -->
                        <div style="text-align: center; color: var(--text-muted); padding: 40px;">
                            <i data-lucide="calendar"
                                style="width: 48px; height: 48px; margin-bottom: 16px; opacity: 0.5;"></i>
                            <p>Các bài viết được lên lịch sẽ hiển thị tại đây.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings View -->
            <div id="settings-view" class="content-card" style="display: none;">
                <div class="card-header">
                    <h3>Cài đặt kết nối</h3>
                </div>
                <div class="card-body" style="padding: 24px;">
                    <div class="form-group">
                        <label>API Key (GetLate)</label>
                        <input type="password"
                            value="sk_b00cf1517e5928515f6a40574be37b0d59cb6d2abef68fb57492b40a86758590" readonly>
                        <p class="form-hint">API Key được cấu hình trong hệ thống.</p>
                    </div>
                    <div class="form-group">
                        <label>Facebook Account ID</label>
                        <input type="text" value="69646c3f4207e06f4ca84d2e" readonly>
                    </div>
                    <div class="form-group">
                        <label>Google Sheet GID</label>
                        <input type="text" value="1605423378" readonly>
                        <p class="form-hint">ID của Tab "Fb+Ins+LinkedIn"</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>

</html>